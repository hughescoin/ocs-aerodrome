import { ethers } from 'ethers';

const workingInputs = [
  '0x0000000000000000000000008522cf82fea50e23d1505489492f6c881a3051e300000000000000000000000000000000000000000000000000000000000f42400000000000000000000000000000000000000000000000000dbb9f1245e21c2c00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda0291300000000000000000000000050c5725949a6f0c72e6c4a641f24049a917db0cb0000000000000000000000000000000000000000000000000000000000000001',
];

const myInputs = [
  '0x0000000000000000000000008522cf82fea50e23d1505489492f6c881a3051e300000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda0291300000000000000000000000050c5725949a6f0c72e6c4a641f24049a917db0cb0000000000000000000000000000000000000000000000000000000000000001',
];

const workingResults = ethers.AbiCoder.defaultAbiCoder().decode(
  [
    'address', // Constants.MSG_SENDER
    'uint256', // AMOUNT
    'uint256', // type(uint256).max
    'address[]', // routes
    'bool', // true
  ],
  workingInputs[0]
);

const results = ethers.AbiCoder.defaultAbiCoder().decode(
  [
    'address', // Constants.MSG_SENDER
    'uint256', // AMOUNT
    'uint256', // type(uint256).max
    'address[]', // routes
    'bool', // true
  ],
  myInputs[0]
);

console.log('Working inputs decoded:', workingResults);
console.log('My inputs decoded:', results);

//working
// Decoded Inputs: Result(5) [
//   '0x8522cf82FEa50e23d1505489492f6c881a3051E3',
//   250000n,
//   258112761578317337n,
//   Result(3) [
//     '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913',
//     '0xcacf1ca03983CE6c7E235fb20C70aCC70ed13509', //OptimismMintableERC20 WTFF
//     '0x0000000000000000000000000000000000000000'
//   ],
//   true
// ]
// //not working
// Decoded Inputs: Result(5) [
//   '0x8522cf82FEa50e23d1505489492f6c881a3051E3',
//   1000000n,
//   980000000000000000n,
//   Result(3) [
//     '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913',
//     '0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb',
//     '0x0000000000000000000000000000000000000000'
//   ],
//   true
// ]
